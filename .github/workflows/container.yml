name: Container build
on: push
jobs:
  build_image:
    runs-on: container-builder
    steps:
    - uses: actions/checkout@v4
    - name: Build container image
      run: |
        env
        ./scripts/build.sh --name ${IMAGE_NAME} --version latest --build-file-path "./Dockerfile"
  start_container:
    runs-on: container-builder
    steps:
    - uses: actions/checkout@v4
    - name: Start container
      run: |
        ./scripts/start.sh --name ${CONTAINER_NAME} --image ${IMAGE_NAME} --version latest